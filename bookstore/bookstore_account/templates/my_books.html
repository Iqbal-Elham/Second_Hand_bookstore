{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" type="image" href="{% static 'images/logo3.png' %}" />
  <link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}" />
  <link rel="stylesheet" href="{% static 'styles/css/user_style.css' %}">
  <link rel="stylesheet" href="{% static 'styles/fonts-6/css/all.css' %}" />
  <link rel="stylesheet" href="{% static 'styles/css/fonts.css' %}" />
  <title>User Account</title>
</head>

<body>
  <div class="row">
    <nav class="d-flex justify-content-around align-items-center px-5 py-2 gap-4 nav-bar ">
      <p class="h1 nav-brand">User Account</p>
      <div class="menu d-flex">
        <a href="/" class="d-flex align-items-center justify-content-center "><lord-icon
            src="https://cdn.lordicon.com/kxoxiwrf.json" trigger="loop-on-hover" delay="40"
            colors="primary:#545454,secondary:#c79816" style="width:50px;height:50px">
          </lord-icon><label for="logout">Home</label></a>
        <a href="/books" class="d-flex align-items-center justify-content-center "><lord-icon
            src="https://cdn.lordicon.com/hursldrn.json" trigger="loop-on-hover" delay="40"
            colors="primary:#e8b730,secondary:#545454" style="width:50px;height:50px">
          </lord-icon><label for="logout">Books</label></a>
        <a href="/logout" class="d-flex align-items-center justify-content-center "><lord-icon
            src="https://cdn.lordicon.com/moscwhoj.json" trigger="loop-on-hover" delay="40"
            colors="primary:#545454,secondary:#000000" style="width:50px;height:50px;" id="logout" name="logout">
          </lord-icon><label for="logout">log out</label></a>
      </div>
    </nav>
  </div>

  <!-- -------------------- Sidebar -------------------------------- -->
  <div class="user_sidebar col-md-2 d-flex flex-column">
    <img src="{{ user.user_profile.profile_pic.url }}" class="rounded-circle mb-4" width=150 height=150 alt="">
    <p class="text-primary mb-5 text-center h3">{{ user.username }}</p>
    <a href="/user#profile" type="button" class="text-dark ">Profile</a>
    <a href="/user/my-books" type="button" class="text-dark ">Your Books</a>
    <a href="/password_change" type="button" class="text-dark ">Change Password</a>
    <a href="/user#comments" type="button" class="text-dark ">Comments</a>
  </div>

  <div class="col-md-10 content">
    <!-- --------------------------------- Books -------------------------------- -->
    <div class="bg-white">
      <div class="bg-white p-2 m-4 rounded-5 h-100" id="books">
        <header class="wishlist-header d-flex flex-column justify-content-center align-items-center mt-5">
          <lord-icon src="https://cdn.lordicon.com/hursldrn.json" trigger="loop" delay="50"
            colors="primary:#242424,secondary:#e8b730" state="loop" style="width:180px;height:180px">
          </lord-icon>
          <h1 class="display-4">My Books</h1>
        </header>

        <a href="/sell-book">
          <button class="w-25 btn btn-warning text-white btn-block rounded-3 my-2">Add New Book +</button>
        </a>

        <div class="table-contain">
          {% if books|length > 0 %}
          <div class="border-top border-5 border-rounded">
            <table class="table table-striped wishlist-table">
              <thead>
                <tr class="text-center">
                  <th scope="col">#</th>
                  <th scope="col" class="table-pic"></th>
                  <th scope="col">Book Name</th>
                  <th scope="col">Author</th>
                  <th scope="col">Publisher</th>
                  <th scope="col">Price</th>
                  <th scope="col"></th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                {% for book in books %}
                <tr class="text-center align-middle">
                  <th scope="row">{{ forloop.counter }}</th>
                  <td><img src="{{ book.image.url }}" class="img-fluid" width="100px" height="100px" alt="">
                  </td>
                  <td>{{ book.title }}</td>
                  <td>{{ book.Author }}</td>
                  <td>{{ book.publisher }}</td>
                  <td>{{ book.price }} Af</td>
                  <td><a href="{{ book.get_absolute_url }}"><button
                        class="w-75 btn btn-warning text-white btn-block rounded-5">More Details</button></a></td>
                  <td>
                  <td><a href="/edit-my-book/{{ book.id }}"><button
                        class="w-75 btn btn-warning text-white btn-block rounded-5">Edit</button></a></td>
                  <td>
                    <a href="/remove-my-book/{{ book.id }}"> <lord-icon src="https://cdn.lordicon.com/qjwkduhc.json"
                        trigger="loop-on-hover" delay="300" colors="primary:#646e78,secondary:#545454,tertiary:#e8b730"
                        style="width:70px;height:70px">
                      </lord-icon></a>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            {% else %}
            <div class="alert alert-warning">
              <p>You have no books</p>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src=" {% static 'styles/js/user_script.js' %} "></script>
  <script src=" {% static 'styles/js/jquery-3.6.0.js' %} "></script>
  <script src=" {% static 'bootstrap/js/bootstrap.min.js' %} "></script>
  <script src="https://cdn.lordicon.com/qjzruarw.js"></script>
</body>

</html>